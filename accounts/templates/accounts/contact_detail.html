<!DOCTYPE html>
<html>
<head>
    <title>{{ contact.first_name }} {{ contact.last_name }}</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        .contact-header { background: #f0f8ff; padding: 20px; border-radius: 5px; }
        .section { margin: 30px 0; }
        .btn {
            background: #4CAF50;
            color: white;
            padding: 8px 15px;
            text-decoration: none;
            display: inline-block;
            margin-right: 10px;
            border: none;
            cursor: pointer;
            font-size: 14px;
        }
        .btn-danger { background: #f44336; }
        .phone-badge, .address-card { 
            background: #e8f5e8; padding: 10px; margin: 5px 0; 
            border-left: 3px solid #4CAF50;
        }
        form { display: inline; }
    </style>
</head>
<body>
    <a href="{% url 'contact_list' %}">â† Back to Contacts</a>
    
    <div class="contact-header">
        <h1>{{ contact.first_name }} {{ contact.last_name }}</h1>

        <p><strong>Email:</strong> {{ contact.email|default:"Not provided" }}</p>

        <p><strong>LinkedIn:</strong> 
            {% if contact.linkedin %}
                <a href="{{ contact.linkedin }}" target="_blank">{{ contact.linkedin }}</a>
            {% else %}
                Not provided
            {% endif %}
        </p>

        <p><strong>Added:</strong> {{ contact.created_at|date:"F d, Y" }}</p>

        <div style="margin-top: 15px;">
            <a href="{% url 'edit_contact' contact.id %}" class="btn">âœï¸ Edit</a>

            <!-- âœ… FIXED DELETE -->
            <form method="post" action="{% url 'delete_contact' contact.id %}">
                {% csrf_token %}
                <button type="submit"
                        class="btn btn-danger"
                        onclick="return confirm('Are you sure you want to delete this contact?');">
                    ğŸ—‘ï¸ Delete
                </button>
            </form>
        </div>
    </div>
    
    <div class="section">
        <h2>Phone Numbers</h2>

        {% if contact.phone_numbers.all %}
            {% for phone in contact.phone_numbers.all %}
                <div class="phone-badge">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span>ğŸ“± {{ phone.get_phone_type_display }}: {{ phone.number }}</span>
                        <div>
                            <a href="{% url 'edit_phone' phone.id %}" style="color: #4CAF50; text-decoration: none; margin-right: 10px;">âœï¸</a>
                            <a href="{% url 'delete_phone' phone.id %}" style="color: #f44336; text-decoration: none;">ğŸ—‘ï¸</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p>No phone numbers added.</p>
        {% endif %}

        <a href="{% url 'add_phone' contact.id %}" class="btn">+ Add Phone</a>
    </div>
</body>
</html>